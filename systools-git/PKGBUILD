# Maintainer: Chirantan Ekbote <chirantan.ekbote at gmail.com>

pkgname=systools-git
pkgver=20130219
pkgrel=1
pkgdesc='Small scripts to perform various system utility functions'
arch=('i686 x86_64')
url='https://github.com/jynnantonix/scripts'
license=('GPL3')
changelog=CHANGELOG

_gitroot="git://github.com/jynnantonix/scripts.git"
_gitname="scripts"

build() {
    cd "$srcdir"
    msg "Connecting to GIT server...."
    
    if [[ -d "${_gitname}" ]] ; then
	cd "$_gitname" && git pull origin
	msg "The local files are updated."
    else
	git clone "$_gitroot" "$_gitname"
    fi
    
    msg "GIT checkout done or server timeout"
}

package() {
    cd "${srcdir}/${_gitname}"
    install -Dm755 sysinfo "${pkgdir}/usr/bin/sysinfo"
    install -Dm755 update_mirrorlist "${pkgdir}/etc/cron.weekly/update_mirrorlist"
}
